--[[
SENSATION.CC - Complete Cheat Menu for Roblox
Toggle with DEL key
--]]

local Players = game:GetService("Players")
local LocalPlayer = Players.LocalPlayer
local RunService = game:GetService("RunService")
local UserInputService = game:GetService("UserInputService")
local TweenService = game:GetService("TweenService")

-- A. Создание GUI интерфейса
local mainGUI = nil
local mainFrame = nil
local isMenuVisible = false

local function CreateMainGUI()
    -- 1. Основное окно
    mainGUI = Instance.new("ScreenGui")
    mainFrame = Instance.new("Frame")
    local titleLabel = Instance.new("TextLabel")
    
    -- 2. Настройка главного окна
    mainGUI.Name = "SensationCC"
    mainGUI.Enabled = false -- Сначала скрыто
    mainGUI.Parent = game.CoreGui
    
    mainFrame.Size = UDim2.new(0, 500, 0, 400)
    mainFrame.Position = UDim2.new(0.5, -250, 0.5, -200)
    mainFrame.BackgroundColor3 = Color3.fromRGB(30, 30, 30)
    mainFrame.BorderSizePixel = 1
    mainFrame.BorderColor3 = Color3.fromRGB(80, 80, 80)
    mainFrame.Parent = mainGUI
    
    titleLabel.Size = UDim2.new(1, 0, 0, 30)
    titleLabel.Text = "SENSATION.CC"
    titleLabel.TextColor3 = Color3.fromRGB(255, 255, 255)
    titleLabel.BackgroundColor3 = Color3.fromRGB(50, 50, 50)
    titleLabel.Font = Enum.Font.GothamBold
    titleLabel.TextSize = 14
    titleLabel.Parent = mainFrame

    -- 3. Создание контейнера для вкладок
    local tabContainer = Instance.new("Frame")
    tabContainer.Size = UDim2.new(1, 0, 0, 30)
    tabContainer.Position = UDim2.new(0, 0, 0, 30)
    tabContainer.BackgroundColor3 = Color3.fromRGB(40, 40, 40)
    tabContainer.BorderSizePixel = 0
    tabContainer.Parent = mainFrame

    -- 4. Создание вкладок
    local tabs = {"RAGEBOT", "VISUALS", "MISC", "COLORS", "SKINCHANGER"}
    for i, tabName in ipairs(tabs) do
        local tabButton = Instance.new("TextButton")
        tabButton.Size = UDim2.new(0.2, 0, 1, 0)
        tabButton.Position = UDim2.new(0.2 * (i-1), 0, 0, 0)
        tabButton.Text = tabName
        tabButton.TextColor3 = Color3.fromRGB(200, 200, 200)
        tabButton.BackgroundColor3 = Color3.fromRGB(40, 40, 40)
        tabButton.BorderSizePixel = 0
        tabButton.Font = Enum.Font.Gotham
        tabButton.TextSize = 12
        tabButton.Parent = tabContainer
    end

    -- 5. Контентная область
    local contentFrame = Instance.new("Frame")
    contentFrame.Size = UDim2.new(1, 0, 1, -60)
    contentFrame.Position = UDim2.new(0, 0, 0, 60)
    contentFrame.BackgroundColor3 = Color3.fromRGB(35, 35, 35)
    contentFrame.BorderSizePixel = 0
    contentFrame.Parent = mainFrame
    
    return mainGUI
end

-- B. Система переключения меню по клавише Del
local function SetupToggleSystem()
    -- 1. Функция переключения видимости
    local function ToggleMenu()
        isMenuVisible = not isMenuVisible
        mainGUI.Enabled = isMenuVisible
        
        if isMenuVisible then
            print("SENSATION.CC Menu: OPENED")
        else
            print("SENSATION.CC Menu: CLOSED")
        end
    end

    -- 2. Обработка нажатия клавиши Del
    UserInputService.InputBegan:Connect(function(input, gameProcessed)
        if gameProcessed then return end -- Игнорируем если игра в фокусе
        
        -- 3. Проверка клавиши Del (код 69)
        if input.KeyCode == Enum.KeyCode.Delete then
            ToggleMenu()
        end
    end)

    -- 4. Альтернативная проверка для разных версий
    local success, error = pcall(function()
        UserInputService.InputBegan:Connect(function(input)
            if input.KeyCode == Enum.KeyCode.Delete then
                ToggleMenu()
            end
        end)
    end)
end

-- C. RageBot система (упрощенная)
local RageBot = {
    Enabled = true,
    AimBot = {Enable = true, FOVRange = 50}
}

local function SetupAimBot()
    RunService.Heartbeat:Connect(function()
        if not RageBot.Enabled then return end
        
        -- Упрощенный Silent Aim
        for _, player in pairs(Players:GetPlayers()) do
            if player ~= LocalPlayer and player.Character then
                local head = player.Character:FindFirstChild("Head")
                if head and RageBot.AimBot.Enable then
                    -- Базовая логика прицеливания
                end
            end
        end
    end)
end

-- D. Инициализация всего чита
local function InitializeCheat()
    -- 1. Создаем GUI (изначально скрытый)
    CreateMainGUI()
    
    -- 2. Настраиваем переключение по Del
    SetupToggleSystem()
    
    -- 3. Запускаем системы
    SetupAimBot()
    
    print("SENSATION.CC loaded! Press DEL to open/close menu")
end

-- E. Защищенный запуск
local success, errorMessage = pcall(function()
    InitializeCheat()
end)

if not success then
    warn("SENSATION.CC Load Error: " .. tostring(errorMessage))
end
